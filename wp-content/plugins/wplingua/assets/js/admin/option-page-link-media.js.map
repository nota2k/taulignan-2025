{"version":3,"file":"admin/option-page-link-media.js","sources":["admin/option-page-link-media.js"],"sourcesContent":["/*!*\r\n **                 _     _                         \r\n ** __      ___ __ | |   (_)_ __   __ _ _   _  __ _ \r\n ** \\ \\ /\\ / / '_ \\| |   | | '_ \\ / _` | | | |/ _` |\r\n **  \\ V  V /| |_) | |___| | | | | (_| | |_| | (_| |\r\n **   \\_/\\_/ | .__/|_____|_|_| |_|\\__, |\\__,_|\\__,_|\r\n **          |_|                  |___/             \r\n **\r\n **        -- wpLingua | WordPress plugin --\r\n **   Translate and make your website multilingual\r\n **\r\n **     https://github.com/julien-jacob/wplingua\r\n **      https://wordpress.org/plugins/wplingua/\r\n **              https://wplingua.com/\r\n **\r\n **/\r\n\r\njQuery(document).ready(function ($) {\r\n\r\n    let wplngLinkMediaEntries = JSON.parse($(\"#wplng_link_media_entries\").val());\r\n\r\n    /**\r\n     * Add new entry button\r\n     */\r\n\r\n    $(\"#wplng-new-rule-button\").click(function () {\r\n        $(\"#wplng-section-entries-all\").hide();\r\n        $(\"#wplng_new_mode_exactly\").prop(\"checked\", true);\r\n        $(\"#wplng-section-entry-new\").show();\r\n        window.scrollTo(0, 0);\r\n    });\r\n\r\n    /**\r\n     * Click button save new entry\r\n     */\r\n\r\n    $(\"#wplng-new-add-button\").click(function () {\r\n\r\n        let source = $(\"#wplng-new-source\").val();\r\n        let mode = \"exactly\";\r\n        let modeRadio = $(\"input[type='radio'][name='wplng_new_mode']:checked\");\r\n        let rules = {};\r\n\r\n        if (undefined == source || '' == source.trim()) {\r\n            return;\r\n        }\r\n\r\n        source = source.replaceAll(\"\\\\\", \"[WPLNG_BACKSLASH]\");\r\n\r\n        if (modeRadio.length > 0) {\r\n            mode = modeRadio.val();\r\n        }\r\n\r\n        if (mode !== 'partially' && mode !== 'regex') {\r\n            mode = \"exactly\";\r\n        }\r\n\r\n        $(\".wplng-new-rule\").each(function () {\r\n\r\n            let languageId = $(this).attr(\"wplng-rule\");\r\n            let translate = $('input[type=\"text\"]', this).val();\r\n\r\n            if (undefined != translate && '' != translate.trim()) {\r\n                rules[languageId] = translate.trim();\r\n            }\r\n\r\n        });\r\n\r\n        if (0 == Object.keys(rules).length) {\r\n            return;\r\n        }\r\n\r\n        wplngLinkMediaEntries.push({\r\n            \"source\": source,\r\n            \"mode\": mode,\r\n            \"rules\": rules\r\n        });\r\n\r\n        $(\"#wplng_link_media_entries\").val(JSON.stringify(wplngLinkMediaEntries));\r\n\r\n        $(\"#submit\").click();\r\n    });\r\n\r\n\r\n    /**\r\n     * Cancel new entry\r\n     */\r\n\r\n    $(\"#wplng-new-cancel-button\").click(function () {\r\n        $(\"#wplng-section-entries-all\").show();\r\n        $(\"#wplng-section-entry-new\").hide();\r\n        window.scrollTo(0, 0);\r\n    });\r\n\r\n\r\n    /**\r\n     * Remove link\r\n     */\r\n\r\n    $(\".wplng-rule-link-remove\").click(function () {\r\n\r\n        let ruleNumber = $(this).attr(\"wplng-rule\");\r\n        let newLinkMediaEntries = [];\r\n        let counter = 0;\r\n\r\n        wplngLinkMediaEntries.forEach(element => {\r\n            if (counter != ruleNumber) {\r\n                newLinkMediaEntries.push(element);\r\n            }\r\n            counter++;\r\n        });\r\n\r\n        $(\"#wplng_link_media_entries\").val(JSON.stringify(newLinkMediaEntries));\r\n\r\n        $(\"#submit\").click();\r\n\r\n    });\r\n\r\n\r\n    /**\r\n     * Edit link on entry\r\n     */\r\n\r\n    $(\".wplng-rule-link-edit\").click(function () {\r\n\r\n        let ruleNumber = $(this).attr(\"wplng-rule\");\r\n        let editedLinkMediaEntry = wplngLinkMediaEntries[ruleNumber];\r\n\r\n        $(\"#wplng-section-entries-all\").hide();\r\n        $(\"#wplng-section-entry-edit\").show();\r\n\r\n        let source = editedLinkMediaEntry.source;\r\n        source = source.replaceAll(\"[WPLNG_BACKSLASH]\", \"\\\\\");\r\n        $(\"#wplng-edit-source\").val(editedLinkMediaEntry.source);\r\n\r\n        switch (editedLinkMediaEntry.mode) {\r\n            case \"exactly\":\r\n                $(\"#wplng_edit_mode_exactly\").prop(\"checked\", true);\r\n                $(\"#wplng_edit_mode_partially\").prop(\"checked\", false);\r\n                $(\"#wplng_edit_mode_regex\").prop(\"checked\", false);\r\n                break;\r\n\r\n            case \"partially\":\r\n                $(\"#wplng_edit_mode_exactly\").prop(\"checked\", false);\r\n                $(\"#wplng_edit_mode_partially\").prop(\"checked\", true);\r\n                $(\"#wplng_edit_mode_regex\").prop(\"checked\", false);\r\n                break;\r\n\r\n            case \"regex\":\r\n                $(\"#wplng_edit_mode_exactly\").prop(\"checked\", false);\r\n                $(\"#wplng_edit_mode_partially\").prop(\"checked\", false);\r\n                $(\"#wplng_edit_mode_regex\").prop(\"checked\", true);\r\n                break;\r\n        }\r\n\r\n        $(\"#wplng-edit-save-button\").prop(\"wplng-rule\", ruleNumber);\r\n\r\n        $('#wplng-edit-rules input[type=\"text\"]').val(\"\");\r\n        $.each(editedLinkMediaEntry.rules, function (key, value) {\r\n            let textareaSelector = \"#wplng-edit-always-translate-\" + key;\r\n            $(textareaSelector).val(value);\r\n        });\r\n\r\n        window.scrollTo(0, 0);\r\n\r\n    });\r\n\r\n    /**\r\n     * Save edited entry\r\n     */\r\n\r\n    $(\"#wplng-edit-save-button\").click(function () {\r\n\r\n        let source = $(\"#wplng-edit-source\").val();\r\n        let mode = \"exactly\";\r\n        let modeRadio = $(\"input[type='radio'][name='wplng_edit_mode']:checked\");\r\n        let rules = {};\r\n        let ruleNumber = $(this).prop(\"wplng-rule\");\r\n\r\n        if (undefined == source || '' == source.trim()) {\r\n            return;\r\n        }\r\n\r\n        source = source.replaceAll(\"\\\\\", \"[WPLNG_BACKSLASH]\");\r\n\r\n        if (modeRadio.length > 0) {\r\n            mode = modeRadio.val();\r\n        }\r\n\r\n\r\n        if (mode !== 'partially' && mode !== 'regex') {\r\n            mode = \"exactly\";\r\n        }\r\n\r\n\r\n        $(\".wplng-edit-rule\").each(function () {\r\n\r\n            let languageId = $(this).attr(\"wplng-rule\");\r\n            let translate = $('input[type=\"text\"]', this).val();\r\n\r\n            if (undefined != translate && '' != translate.trim()) {\r\n                rules[languageId] = translate;\r\n            }\r\n\r\n        });\r\n\r\n        wplngLinkMediaEntries.splice(ruleNumber, 1);\r\n\r\n        if (0 == Object.keys(rules).length) {\r\n            return;\r\n        }\r\n\r\n        wplngLinkMediaEntries.push({\r\n            \"source\": source,\r\n            \"mode\": mode,\r\n            \"rules\": rules\r\n        });\r\n\r\n        $(\"#wplng_link_media_entries\").val(JSON.stringify(wplngLinkMediaEntries));\r\n\r\n        $(\"#submit\").click();\r\n    });\r\n\r\n    /**\r\n     * Cancel edit entry\r\n     */\r\n\r\n    $(\"#wplng-edit-cancel-button\").click(function () {\r\n        $(\"#wplng-section-entries-all\").show();\r\n        $(\"#wplng-section-entry-edit\").hide();\r\n        window.scrollTo(0, 0);\r\n    });\r\n\r\n}); // End jQuery loaded event\r\n"],"names":["jQuery","document","ready","$","let","wplngLinkMediaEntries","JSON","parse","val","click","hide","prop","show","window","scrollTo","source","mode","modeRadio","rules","undefined","trim","replaceAll","length","each","languageId","this","attr","translate","Object","keys","push","stringify","ruleNumber","newLinkMediaEntries","counter","forEach","element","editedLinkMediaEntry","key","value","splice"],"mappings":"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"}