{"version":3,"file":"admin/option-page-register.js","sources":["admin/option-page-register.js"],"sourcesContent":["/*!*\r\n **                 _     _                         \r\n ** __      ___ __ | |   (_)_ __   __ _ _   _  __ _ \r\n ** \\ \\ /\\ / / '_ \\| |   | | '_ \\ / _` | | | |/ _` |\r\n **  \\ V  V /| |_) | |___| | | | | (_| | |_| | (_| |\r\n **   \\_/\\_/ | .__/|_____|_|_| |_|\\__, |\\__,_|\\__,_|\r\n **          |_|                  |___/             \r\n **\r\n **        -- wpLingua | WordPress plugin --\r\n **   Translate and make your website multilingual\r\n **\r\n **     https://github.com/julien-jacob/wplingua\r\n **      https://wordpress.org/plugins/wplingua/\r\n **              https://wplingua.com/\r\n **\r\n **/\r\n\r\njQuery(document).ready(function ($) {\r\n\r\n    /**\r\n     * Sets a cookie named \"wplingua\" with a value of 1.\r\n     * The cookie expires in 30 days and is available site-wide.\r\n     */\r\n    function wplngRegisterCookieSet() {\r\n        const date = new Date();\r\n        date.setTime(date.getTime() + (30 * 24 * 60 * 60 * 1000));\r\n        document.cookie = \"wplingua=1;expires=\" + date.toUTCString() + \";path=/\";\r\n    }\r\n\r\n    wplngRegisterCookieSet();\r\n\r\n\r\n    /**\r\n     * Check the language select input\r\n     */\r\n    if (!$(\"#wplng-language-website\").length) {\r\n        return;\r\n    }\r\n\r\n    /**\r\n     * Set HTML options for languages\r\n     */\r\n    let wplngHtmlLanguagesOptions = \"<option disabled selected value></option>\";\r\n    wplngAllLanguages.forEach((language) => {\r\n        wplngHtmlLanguagesOptions += '<option value=\"' + language.id + '\">' + language.name + \"</option>\";\r\n    });\r\n    $(\"#wplng-language-website\").html(wplngHtmlLanguagesOptions);\r\n    $(\"#wplng-language-target\").html(wplngHtmlLanguagesOptions);\r\n\r\n\r\n    /**\r\n     * Set default option for website language\r\n     */\r\n    $(\"#wplng-language-website option[value=\" + $(\"#wplng-website-locale\").text() + \"]\").attr(\"selected\", true);\r\n\r\n\r\n    /**\r\n     * Add disable attribute on #wplng-language-target \r\n     * depend #wplng-language-website \r\n     */\r\n    wplngDisableLanguagesOptions();\r\n    $(\"#wplng-language-website\").on(\"input\", function (event) {\r\n        wplngDisableLanguagesOptions();\r\n    });\r\n\r\n    function wplngDisableLanguagesOptions() {\r\n        let selectedLanguage = $(\"#wplng-language-website\").val();\r\n        $(\"#wplng-language-target option\").attr(\"disabled\", false);\r\n        $(\"#wplng-language-target option[value=\" + selectedLanguage + \"]\").attr(\"disabled\", true);\r\n\r\n        if ($(\"#wplng-language-website\").val() == selectedLanguage) {\r\n            $(\"#wplng-language-target option\").attr(\"selected\", false);\r\n            $(\"#wplng-language-target option[value!=\" + selectedLanguage + \"]\").first().attr(\"selected\", true);\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * Prepare data for free reister submit\r\n     */\r\n    $(\"#wplng-get-free-api-submit\").on(\"click\", function (event) {\r\n        wplngUpdateRegisterInput();\r\n    });\r\n\r\n    function wplngUpdateRegisterInput() {\r\n\r\n        let wplngRegisterInputSelector = \"#wplng-website-url, #wplng-email, #wplng-language-website, #wplng-language-target, #wplng-accept-eula\";\r\n\r\n        $(wplngRegisterInputSelector).attr('required', true);\r\n\r\n        let registerData = {\r\n            request: 'register',\r\n            mail_address: $(\"#wplng-email\").val(),\r\n            website: $(\"#wplng-website-url\").val(),\r\n            language_original: $(\"#wplng-language-website\").val(),\r\n            languages_target: $(\"#wplng-language-target\").val(),\r\n            accept_eula: $(\"#wplng-accept-eula\").is(':checked')\r\n        };\r\n\r\n        $(\"#wplng_request_free_key\").val(JSON.stringify(registerData))\r\n    }\r\n\r\n    /**\r\n    * Smooth scrolling to page anchor on click\r\n    **/\r\n    $(\"a[href*='#wplng-']:not([href='#'])\").click(function () {\r\n        if (\r\n            location.hostname == this.hostname\r\n            && this.pathname.replace(/^\\//, \"\") == location.pathname.replace(/^\\//, \"\")\r\n        ) {\r\n            let anchor = $(this.hash);\r\n            anchor = anchor.length ? anchor : $(\"[name=\" + this.hash.slice(1) + \"]\");\r\n            if (anchor.length) {\r\n                $(\"html, body\").animate({ scrollTop: anchor.offset().top - 50 }, 1000);\r\n            }\r\n        }\r\n    });\r\n\r\n}); // End jQuery loaded event\r\n"],"names":["jQuery","document","ready","$","date","Date","setTime","getTime","cookie","toUTCString","length","let","wplngHtmlLanguagesOptions","wplngDisableLanguagesOptions","selectedLanguage","val","attr","first","wplngAllLanguages","forEach","language","id","name","html","text","on","event","registerData","request","mail_address","website","language_original","languages_target","accept_eula","is","JSON","stringify","click","anchor","location","hostname","this","pathname","replace","hash","slice","animate","scrollTop","offset","top"],"mappings":";;;;;;;;;;;;;;;IAiBAA;OAAOC,QAAQ,EAAEC,MAAM,SAAUC,GAM7B,IACUC,EAWV,IAXUA,EAAO,IAAIC,MACZC,QAAQF,EAAKG,QAAQ,EAAI,MAA0B,EACxDN,SAASO,OAAS,sBAAwBJ,EAAKK,YAAY,EAAI,UAS9DN,EAAE,yBAAyB,EAAEO,OAAlC,CAOAC,IAAIC,EAA4B,4CAuBhC,SAASC,IACLF,IAAIG,EAAmBX,EAAE,yBAAyB,EAAEY,IAAI,EACxDZ,EAAE,+BAA+B,EAAEa,KAAK,WAAY,CAAA,CAAK,EACzDb,EAAE,uCAAyCW,EAAmB,GAAG,EAAEE,KAAK,WAAY,CAAA,CAAI,EAEpFb,EAAE,yBAAyB,EAAEY,IAAI,GAAKD,IACtCX,EAAE,+BAA+B,EAAEa,KAAK,WAAY,CAAA,CAAK,EACzDb,EAAE,wCAA0CW,EAAmB,GAAG,EAAEG,MAAM,EAAED,KAAK,WAAY,CAAA,CAAI,EAEzG,CA/BAE,kBAAkBC,QAAQ,IACtBP,GAA6B,kBAAoBQ,EAASC,GAAK,KAAOD,EAASE,KAAO,WAC1F,CAAC,EACDnB,EAAE,yBAAyB,EAAEoB,KAAKX,CAAyB,EAC3DT,EAAE,wBAAwB,EAAEoB,KAAKX,CAAyB,EAM1DT,EAAE,wCAA0CA,EAAE,uBAAuB,EAAEqB,KAAK,EAAI,GAAG,EAAER,KAAK,WAAY,CAAA,CAAI,EAO1GH,EAA6B,EAC7BV,EAAE,yBAAyB,EAAEsB,GAAG,QAAS,SAAUC,GAC/Cb,EAA6B,CACjC,CAAC,EAiBDV,EAAE,4BAA4B,EAAEsB,GAAG,QAAS,SAAUC,GAItD,IAMQC,EAFJxB,EAFiC,uGAEL,EAAEa,KAAK,WAAY,CAAA,CAAI,EAE/CW,EAAe,CACfC,QAAS,WACTC,aAAc1B,EAAE,cAAc,EAAEY,IAAI,EACpCe,QAAS3B,EAAE,oBAAoB,EAAEY,IAAI,EACrCgB,kBAAmB5B,EAAE,yBAAyB,EAAEY,IAAI,EACpDiB,iBAAkB7B,EAAE,wBAAwB,EAAEY,IAAI,EAClDkB,YAAa9B,EAAE,oBAAoB,EAAE+B,GAAG,UAAU,CACtD,EAEA/B,EAAE,yBAAyB,EAAEY,IAAIoB,KAAKC,UAAUT,CAAY,CAAC,CAjBjE,CAAC,EAuBDxB,EAAE,oCAAoC,EAAEkC,MAAM,WAC1C,IAKIC,EAJAC,SAASC,UAAYC,KAAKD,UACvBC,KAAKC,SAASC,QAAQ,MAAO,EAAE,GAAKJ,SAASG,SAASC,QAAQ,MAAO,EAAE,IAItEL,GAFAA,EAASnC,EAAEsC,KAAKG,IAAI,GACRlC,OAAS4B,EAASnC,EAAE,SAAWsC,KAAKG,KAAKC,MAAM,CAAC,EAAI,GAAG,GAC5DnC,QACPP,EAAE,YAAY,EAAE2C,QAAQ,CAAEC,UAAWT,EAAOU,OAAO,EAAEC,IAAM,EAAG,EAAG,GAAI,CAGjF,CAAC,CA/ED,CAiFJ,CAAC"}