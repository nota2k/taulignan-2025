{"version":3,"file":"on-page.js","sources":["on-page.js"],"sourcesContent":["/**\r\n *                 _     _                         \r\n * __      ___ __ | |   (_)_ __   __ _ _   _  __ _ \r\n * \\ \\ /\\ / / '_ \\| |   | | '_ \\ / _` | | | |/ _` |\r\n *  \\ V  V /| |_) | |___| | | | | (_| | |_| | (_| |\r\n *   \\_/\\_/ | .__/|_____|_|_| |_|\\__, |\\__,_|\\__,_|\r\n *          |_|                  |___/             \r\n *\r\n *        -- wpLingua | WordPress plugin --\r\n *   Translate and make your website multilingual\r\n *\r\n *     https://github.com/julien-jacob/wplingua\r\n *      https://wordpress.org/plugins/wplingua/\r\n *              https://wplingua.com/\r\n *\r\n **/\r\n\r\n(function () {\r\n\r\n    \"use strict\";\r\n\r\n    // ------------------------------------------------------------------------\r\n    // Manage the wpLingua Cookie\r\n    // ------------------------------------------------------------------------\r\n\r\n    /**\r\n     * Sets a cookie named \"wplingua\" with a value of 1.\r\n     */\r\n    document.cookie = \"wplingua=1;path=/\";\r\n\r\n    // ------------------------------------------------------------------------\r\n    // Reload the page if BODY contains the class \"wplingua-reload\"\r\n    // ------------------------------------------------------------------------\r\n\r\n    if (document.body.classList.contains('wplingua-reload')) {\r\n        location.reload();\r\n    }\r\n\r\n    // ------------------------------------------------------------------------\r\n    // Manage the wpLingua HeartBeat\r\n    // ------------------------------------------------------------------------\r\n\r\n    /**\r\n     * Sends periodic AJAX requests to the server to keep the session alive.\r\n     * The requests are sent every 11 minutes, 5 times in total.\r\n     */\r\n    function wplngHeartBeat() {\r\n        for (let i = 0; i < 5; i++) {\r\n            setTimeout(() => {\r\n                fetch(\"[admin-ajax-php]\", {\r\n                    method: \"POST\",\r\n                    headers: {\r\n                        \"Content-Type\": \"application/x-www-form-urlencoded\"\r\n                    },\r\n                    body: new URLSearchParams({ action: \"wplng_ajax_heartbeat\" })\r\n                });\r\n            }, i * 1000 * 60 * 11);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Initializes the heartbeat functionality after a 6-second delay.\r\n     */\r\n    setTimeout(wplngHeartBeat, 6000);\r\n\r\n})();\r\n\r\n"],"names":["document","cookie","body","classList","contains","location","reload","setTimeout","let","i","fetch","method","headers","Content-Type","URLSearchParams","action"],"mappings":"AAiBA,CAAA,WAEI,aASAA,SAASC,OAAS,oBAMdD,SAASE,KAAKC,UAAUC,SAAS,iBAAiB,GAClDC,SAASC,OAAO,EA4BpBC,WAjBA,WACI,IAAKC,IAAIC,EAAI,EAAGA,EAAI,EAAGA,CAAC,GACpBF,WAAW,KACPG,MAAM,mBAAoB,CACtBC,OAAQ,OACRC,QAAS,CACLC,eAAgB,mCACpB,EACAX,KAAM,IAAIY,gBAAgB,CAAEC,OAAQ,sBAAuB,CAAC,CAChE,CAAC,CACL,EAAO,IAAJN,EAAW,GAAK,EAAE,CAE7B,EAK2B,GAAI,CAElC,EAAE"}